# Big_data_analysis_contest
부산시 빅데이터 혁신센터에서 주관하는 빅데이터 활용 대회 준비 및 기록용 레포지토리입니다.


---


# 🌿 주제 분석: 친환경 관광

## ✅ 친환경 관광이란?
친환경 관광은 환경을 보호하고 지역 사회 발전에 기여하는 방식으로 여행하는 것을 의미한다. 즉, 자연을 존중하고, 지역 문화를 이해하며, 경제적 이익을 창출하고, 지속 가능한 관광을 실천하는 형태이다.

### 📘 자세한 정의

- **지속 가능한 관광**  
  오버투어리즘의 반대 개념으로, 여행객과 여행 업계가 환경 보호와 지역사회의 발전을 동시에 추구하는 여행 형태.

- **생태 관광 (Ecotourism)**  
  파괴되기 쉬운 자연 환경이나 외부 영향이 거의 없는 보호지역 또는 소규모 지역을 책임감 있게 여행하는 것.

- **친환경 여행**  
  환경을 보호하고 지역 사회를 돕는 방식으로 여행하는 것.

- **에코투어리즘**  
  환경오염을 최소화하면서 자연을 관찰하고, 이해하며 즐기는 여행 문화.

- **ESG 관광**  
  관광객의 즐거움, 관광 기업의 수익성, 현지 주민의 삶의 질 향상이 조화를 이루는 균형 잡힌 발전 모델.

---

## 📊 친환경 관광 점수

친환경 관광 점수는 **교통**, **숙박**, **식음 활동**의 세 가지 요소를 중심으로 사용자가 얼마나 친환경적인 여행을 했는지 평가할 수 있도록 하는 지표이다. 참고자료로는 **환경부**, **산림청 국립산림과학원** 등의 자료를 활용하였으며, **탄소나무계산기**에서 제시된 탄소 환산 추정치를 기반으로 점수를 산정한다.

### 📐 계산 방식

#### 🚗 교통  
이동 구간별 거리(출발 시, 여행 중, 귀환 시)에 따라 교통수단별 이산화탄소 배출량을 곱하여 계산한다.

| 교통수단 | km당 탄소배출량 (kgCO₂/km) |
|----------|----------------------------|
| 비행기   | 0.160                      |
| 자동차   | 0.030                      |
| 철도     | 0.016                      |
| 버스     | 0.150                      |
| 도보     | 0.000                      |

#### 🏨 숙박  
숙박 유형별 1박당 평균 탄소배출량을 기준으로 산정한다.

| 숙박 유형                     | 1박당 탄소배출량 (kgCO₂) |
|------------------------------|--------------------------|
| 호텔/리조트                  | 28.03                   |
| 펜션/민박/유스호스텔         | 8.51                    |
| 캠핑/카라반/글램핑           | 7.98                    |

#### 🍽️ 식음활동  
여행 중 섭취한 음식의 종류에 따라 식단의 탄소배출량을 합산하여 평가한다.

| 음식 종류         | 1회 섭취당 탄소배출량 (kgCO₂) |
|------------------|------------------------------|
| 밥류             | 0.414                        |
| 국/탕/찌개류     | 2.736                        |
| 면류             | 1.300                        |
| 생선류           | 5.933                        |
| 소고기류         | 7.833                        |
| 돼지고기류       | 1.600                        |
| 닭고기류         | 0.300                        |
| 패스트푸드류     | 2.600                        |
| 주류             | 0.320                        |
| 탄산음료         | 0.350                        |
| 커피             | 0.180                        |
| 생수             | 0.000                        |

> 💡 각 항목의 탄소배출량은 사용자의 선택 및 소비 내역에 따라 총합되어 친환경 점수로 환산된다. 점수가 낮을수록 환경에 미치는 영향이 적은 여행으로 간주된다.

### 🟩 친환경 점수 기준 범위

총 탄소배출량을 기준으로 다음과 같은 등급 구간을 설정할 수 있다.

| 등급         | 총 배출량 기준 (1인당 기준)       | 설명 |
|--------------|-----------------------------------|------|
| 🟢 우수      | 0 ~ 50kg CO₂                      | 도보/대중교통 중심, 채식 위주 식단, 저탄소 숙박 이용 |
| 🟡 보통      | 50 ~ 120kg CO₂                    | 혼합형 교통, 일반적인 식단, 중간 수준 숙박 |
| 🔴 개선 필요 | 120kg CO₂ 이상                   | 비행기·자가용 중심, 고기 위주 식단, 고탄소 숙박 |

> 💡 여행일 수가 많을 경우, 1일 평균 배출량을 기준으로 평가하는 방식도 고려할 수 있다.

---

## 🔗 참고자료

[1] 제주 생태관광 과정의 탄소 배출량 추정  
https://jccr.re.kr/xml/20337/20337.pdf


---

# 1. 데이터 수집

## 📌 각 데이터별 설명
### 부산시 지도 데이터
- **부산시 250m 격자**: [확인 불가]
- **격자 중심에서 도로까지 거리**: [간단한 설명 추가 필요]
![스크린샷 2025-05-21 205832](https://github.com/user-attachments/assets/2e48853c-9a0c-4a28-8c73-9e5de0244f96)

### 교통 친환경 점수 산출
- **관광지_관광명소_정보**: [간단한 설명 추가 필요]
![스크린샷 2025-05-21 205858](https://github.com/user-attachments/assets/869906ee-a872-4d7b-9f00-abab63184746)

- **관광지_코드와_한글명칭**
![스크린샷 2025-05-21 205919](https://github.com/user-attachments/assets/1c2afff9-4ee0-492d-89b8-96cb92248a06)

- **신한카드 전통시장 현황**
![스크린샷 2025-05-21 205956](https://github.com/user-attachments/assets/ae6ae32b-64b7-4c58-be60-eaa3750af8d9)
![스크린샷 2025-05-21 210010](https://github.com/user-attachments/assets/73f34321-03d5-41f3-a10b-6bfcc5176241)

- **23년 부산광역시 행정기관 행정구역 매칭 테이블**
![스크린샷 2025-05-21 210042](https://github.com/user-attachments/assets/878b86b6-6499-4489-8100-c419cded6994)

- **버스정류장 좌표**
![스크린샷 2025-05-21 210108](https://github.com/user-attachments/assets/806bee8b-e455-46bb-be9d-caa1278ee9f3)

- **지하철역 좌표**
![스크린샷 2025-05-21 210128](https://github.com/user-attachments/assets/71898366-3a49-4ee4-a14a-8174a4b523f0)

- **부산시 집계구 주소, 행정동 코드 및 위경도**
![스크린샷 2025-05-21 210153](https://github.com/user-attachments/assets/241537bd-b88b-4ba6-81a1-5dd72007530d)


### 식음활동 친환경 점수 산출
- **신한카드 업종분류 코드 2024**

## 🎯 데이터 활용 목적
- 분석 목표와 관련된 데이터 수집 이유 서술
- 예) 관광지별 유동인구 파악, 친환경 점수 계산 등을 위한 기초자료 확보

---

# 2. 탐색적 데이터 분석 (EDA)

## 🔍 데이터 탐색
- 기본 통계량 확인 (mean, median, std 등)
- 결측치, 이상치 유무 확인

## 🧹 데이터 정제 및 전처리
- 결측치 처리 (제거, 대체 등)
- 이상치 제거
- 형 변환, 인코딩, 정규화 등

## 📊 데이터 시각화
- 히스토그램, 박스플롯, 산점도 등 활용
- 카테고리별 분포 및 추세 파악

## 📈 일변량, 이변량, 다변량 분석
- **일변량 분석**: 변수 하나에 대한 분포 분석
- **이변량 분석**: 두 변수 간의 상관관계 파악
- **다변량 분석**: 세 개 이상의 변수 간 관계 분석

---

# 3. 데이터 분석

## 🧠 분석 기법
- 회귀분석 (선형/로지스틱)
- 클러스터링 (K-Means, DBSCAN 등)
- 분류 모델 (Random Forest, SVM, Neural Network 등)
- 시계열 분석 또는 PCA 등 (필요 시 추가)

---

# 4. 지도 데이터 및 API 사용방법

---

# 5. 경로탐색 알고리즘

## A*

## 다익스트라

## 벨만-포드 알고리즘(Bellman-Ford Algorithm)

### 📌 알고리즘 개요
- 벨만-포드 알고리즘은 **단일 출발점**에서 다른 모든 정점까지의 **최단 경로**를 구하는 알고리즘이다.
- **음수 가중치 간선**을 허용하는 것이 특징이며, 이는 다익스트라 알고리즘과의 큰 차이점이다.
- 음수 사이클(negative cycle)이 존재하는지도 검출할 수 있다.


### 🧮 음수 가중치란?
- **음수 가중치**는 어떤 경로를 통해 이동할 때 오히려 ‘이득’을 보는 상황을 수치화한 것.
- 예시:  
  - 보상을 받는 루트  
  - 에너지 회수  
  - 비용보다 이익이 큰 경로 등



### ⚠️ 음수 사이클의 의미
- **음수 사이클**이란, 순환 경로를 반복할수록 전체 경로 비용이 계속 감소하는 경우.
- 이 경우 최단 경로는 정의할 수 없으며, **벨만-포드 알고리즘은 이를 검출**할 수 있다.


### 🗺️ 지도 기반 서비스에서의 적용
- 현실 세계의 지도 API(네이버 지도, Google Maps 등)에서는 거리·시간·요금 등 **음수가 불가능한 요소**를 다루기 때문에 보통 사용되지 않는다.
- **다익스트라 알고리즘**이 일반적으로 쓰인다.


### ✅ 음수 가중치를 사용하는 예외적 사례

#### 1. 게임 및 시뮬레이션 경로 설계
- 특정 루트에서 **보상**을 받는 경우 음수 가중치로 표현 가능.

#### 2. 금융 네트워크 (차익 거래 탐지)
- A→B→C→A로 환전하며 **자금이 늘어나는 구조** = 음수 사이클.
- 벨만-포드로 **차익 거래 가능성 탐지** 가능.

#### 3. 전력망 최적화
- 경로별 전력 손실/보조에 따라 **에너지 이득을 음수로 표현**.

#### 4. 정책 시뮬레이션에서의 보상 시스템
- 친환경 교통 이용 시 탄소 절감 보상을 **가중치 조정으로 표현**.


### 🎯 알고리즘의 의의
- 복잡한 제약 조건을 포함한 그래프에서도 **최단 경로 탐색 가능**.
- **음수 사이클 검출 기능**으로 **비정상적 구조 감지** 가능.
- 현실 서비스보다는 **시뮬레이션, 연구, 정책 평가 등 특수 목적**에 강력하게 활용됨.


### ✅ 요약

| 항목 | 설명 |
|------|------|
| 사용 조건 | 음수 가중치 허용, 사이클 탐지 가능 |
| 장점 | 유연한 모델링, 실제 데이터 기반 문제 해결에 적합 |
| 단점 | 실행 속도가 느림 (시간복잡도: O(VE)) |
| 대표 활용 분야 | 금융, 게임 시뮬레이션, 정책 설계, 최적화 연구 등 |


## DWA
DWA(Dynamic Window Approach)는 **로봇 경로 탐색(Local Path Planning)** 분야에서 많이 사용되는 실시간 장애물 회피 및 목표 지향 알고리즘입니다. 주로 자율주행 로봇, 특히 \*\*차륜형 로봇(wheeled robot)\*\*이 동적으로 환경을 탐색하며 안전하게 목표 지점까지 이동하는 데 쓰입니다.


### 🧠 핵심 개념

DWA는 로봇의 **동역학 제약**을 고려하면서 가능한 속도(v, ω)의 조합을 계산해, **안전하고 효율적인 움직임**을 실시간으로 결정합니다.


### ⚙️ 작동 원리 요약

1. **속도 공간 생성**
   로봇이 현재 순간 가능한 선형 속도(v)와 각속도(ω)의 집합을 계산 → 이를 \*\*동적 윈도우(Dynamic Window)\*\*라고 부른다.

   * 고려 요소: 최대 가속/감속, 회전 제한 등 **물리적 제약**

2. **속도 샘플링**
   동적 윈도우 내에서 여러 (v, ω) 조합을 샘플링함.

3. **각 조합에 대해 경로 시뮬레이션**
   각 속도 조합이 몇 초 후 로봇을 어디로 이동시킬지를 예측.

4. **평가 함수 적용**
   아래 세 가지 요소를 고려한 **cost function**으로 각 경로의 점수를 매김:

   * **heading**: 목표 지점과의 정렬 정도
   * **clearance**: 장애물과의 거리
   * **velocity**: 전진 속도

5. **최고 점수의 (v, ω) 선택**
   평가에서 가장 높은 점수를 받은 속도로 로봇을 실제로 움직인다.


### 🛣️ DWA의 특징

| 장점           | 단점                                      |
| ------------ | --------------------------------------- |
| 실시간 속도 결정 가능 | 복잡한 환경에서는 지역 최적해(local minima)에 빠질 수 있음 |
| 장애물 회피 능력 우수 | 목표에 도달하지 못하는 경우도 있음                     |
| 동역학 제약 고려    | 전역 경로 계획(Global Planner)과 함께 사용 필요      |


### 📌 주로 사용되는 분야

* 자율주행 모바일 로봇
* 실내 서비스 로봇
* ROS(Robot Operating System)의 `move_base` 모듈 내 **local planner**
* 드론보다는 지상 차량에 더 적합


### 📚 참고 구현 예시 (ROS 기반)

```bash
roslaunch turtlebot_navigation move_base.launch
```

* 이 때 `base_local_planner`로 `dwa_local_planner`를 설정하면 DWA 방식으로 경로 탐색 수행.

---

## NetworkX 기반 그래프 알고리즘

  * 관광지, 버스정류장, 지하철역 좌표를 노드로 설정
  * 노드 간 거리 또는 예상 이동시간을 가중치로 하는 그래프 구성
  * 최소 경로 문제, 최단 거리, 또는 여행하는 외판원 문제(TSP) 변형으로 경로 탐색
  * NetworkX 함수 (`shortest_path`, `approximation.traveling_salesman_problem`) 활용 가능

### 데이터 적합성 및 문제점

* 기본 관광지 및 교통 인프라 좌표 데이터는 경로 생성에 충분함
* 실제 이동시간과 환승 시간 정보를 반영하려면 공공 API나 별도 데이터가 필요
* 정류장 및 역 위치만으로는 대기 시간, 환승 시간 변동성 등 현실적 요소 반영 어려움

### 필요한 부가 데이터

* 대중교통 실시간/평균 운행 시간 및 환승 시간 데이터
* 관광지별 예상 체류 시간 데이터
* 도보 경로 실제 거리 및 환경 정보 (도로 유형, 경사 등)

---

```title: 8주차 활동 내용
관광 경로 생성에 있어 NetworkX 기반 그래프 알고리즘을 활용하는 방법은 다양한 경로 탐색 문제에 유연하게 대응할 수 있다는 점에서 매우 적합하다.
예를 들어, A\* 알고리즘은 휴리스틱을 통해 최단 경로를 빠르게 찾는 데 강점을 보이나, 복잡한 다중 지점 경로 문제나 다양한 조건(탄소 배출량, 체류 시간 등)을 동시에 고려하기에는 제한적이다.
다익스트라 알고리즘은 모든 노드에 대해 최단 경로를 정확히 계산하지만, 음수 가중치를 처리하지 못해 탄소 배출량이 음수(예: 탄소 절감 활동 보상)인 경우에는 부적합하며, 경로 조건이 복잡해질수록 연산 비용이 커진다.
DWA(Dynamic Window Approach)는 주로 로봇의 실시간 충돌 회피 및 동적 주행에 특화되어 있어 관광 경로 생성과 같은 정적 지도 기반 최적 경로 탐색에는 적합하지 않다.
벨만 포드 알고리즘은 음수 가중치를 처리할 수 있다는 강점이 있으나, 시간 복잡도가 상대적으로 높아 대규모 관광지 네트워크에 적용할 때 효율성이 떨어질 수 있다.
반면, NetworkX의 다양한 그래프 이론 알고리즘과 TSP 근사 알고리즘은 관광지 및 대중교통 인프라를 노드로 모델링해 거리, 시간, 친환경 점수 등 복합 가중치를 반영한 최적화 문제에 융통성 있게 대응할 수 있으며,
추가적으로 실제 대중교통 환승 시간이나 체류 시간 데이터를 통합하여 현실적인 경로 시뮬레이션도 가능하다.
따라서 이 프로젝트에서는 다양한 조건과 사용자 맞춤 점수를 종합한 복합 경로 최적화가 핵심이므로, NetworkX 기반 그래프 알고리즘이 가장 적합하다고 할 수 있다.
```

```text
NetworkX를 사용하는 기본 흐름은 먼저 관광지, 버스정류장, 지하철역 등 각 위치를 노드로 추가하고, 노드 간의 이동 거리, 시간, 탄소 배출량 등을 엣지의 가중치 속성으로 설정하는 것부터 시작한다.
이후 `shortest_path`나 `dijkstra_path` 같은 함수로 최소 비용 경로를 계산할 수 있으며, 여러 조건에 맞게 사용자 정의 가중치를 적용해 최적 경로를 탐색할 수 있다.
추가로, `all_simple_paths`나 `k_shortest_paths` 같은 함수로 다양한 경로 후보를 생성하고, 각 경로의 총 가중치(예: 거리, 탄소 배출 등)를 계산해 평가한다.
마지막으로, 경로 데이터는 Pandas나 시각화 라이브러리와 연동해 분석 및 지도 위에 시각화할 수 있다.
이처럼 NetworkX는 복잡한 그래프 구조를 쉽게 구축하고, 다양한 알고리즘을 통해 경로 탐색과 분석을 효율적으로 수행하는 데 매우 유용하다.
```
